<div class="text-center" >
<app-spinner *ngIf="this.spinner" [color]="'blanco'"></app-spinner>
</div>

<form class="bg-success text-white" (ngSubmit)="chequearCaptcha()" [formGroup]="this.formGroup" *ngIf="this.perfil=='paciente' && !this.spinner">
  <h3 class="text-center">Registro paciente</h3>

<div class="row">
  <div class="mb-3 col-5">
    <label class="form-label">Nombre:</label>
    <input type="text" class="form-control" formControlName="nombre">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('nombre')?.hasError('required') && this.formGroup.get('nombre')?.touched" >
     El nombre es requerido
       </span>
    </span>
  </div>
  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label">Apellido:</label>
    <input type="text" class="form-control" formControlName="apellido">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('apellido')?.hasError('required') && this.formGroup.get('apellido')?.touched" >
     El apellido es requerido
       </span>
    </span>
  </div>
</div>

<div class="row">
  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >Edad:</label>
    <input type="number" class="form-control" formControlName="edad">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('required') && this.formGroup.get('edad')?.touched" >
     La edad es requerida
       </span>
    </span>
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('max') || this.formGroup.get('edad')?.hasError('min')">
     La edad debe ser entre 18 y 99 años.
       </span>
    </span>
  </div>

  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >DNI:</label>
    <input type="number" class="form-control" formControlName="dni">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('required') && this.formGroup.get('dni')?.touched" >
     DNI es requerido
       </span>
    </span>
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('min')" >
     El DNI es inválido
       </span>
    </span>
  </div>

</div>

<div class="row">

  <div class="mb-3 col-5">
    <label class="form-label" >Obra Social:</label>
    <select class="form-control text-dark" (change)="capturarSeleccion($event)">

      <option *ngFor="let item of this.obrasSociales">
        {{item}}
      </option>
    </select>

  </div>


  <div class="mb-3 col-5">
    <label class="form-label">Correo:</label>
    <input type="email" class="form-control" formControlName="correo">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('required') && this.formGroup.get('correo')?.touched" >
     El correo es requerido
       </span>
    </span>
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('email')">
     El correo es inválido
       </span>
    </span>
  </div>



</div>

<div class="row">
  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >Contraseña:</label>
    <input type="password" class="form-control" id="exampleInputPassword1" formControlName="pass">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('pass')?.hasError('required') && this.formGroup.get('pass')?.touched" >
     La contraseña es requerida
       </span>
    </span>
  </div>

  <div class="mb-3 col-5">
    <label for="exampleInputPassword2" class="form-label" >Repetir contraseña:</label>
    <input type="password" class="form-control" id="exampleInputPassword2" formControlName="pass2">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('pass2')?.hasError('required') && this.formGroup.get('pass2')?.touched" >
     La contraseña es requerida
       </span>
    </span>
  </div>

</div>

<div class="row">
  <div class="mb-3 col-5">
    <label for="file1" class="form-label" >Foto de perfil:</label>
    <input type="file" class="form-control" id="file1"  (change)="seleccionarImagen($event)">
  </div>
  <div class="mb-3 col-5">
    <label for="file2" class="form-label" >Otra foto de perfil:</label>
    <input type="file" class="form-control" id="file2"  (change)="seleccionarImagen2($event)">
  </div>

</div>

<div class="row">
  <div class="mb-3 col-10 justify-content-center align-items-center d-flex">
    <app-captcha (eventoCaptchaCorrecto)="captchaCorrecto($event)"></app-captcha>
  </div>

</div>


<div class="row justify-content-center">
  <button type="submit" class="btn btn-dark btn-lg col-7" [disabled]="this.formGroup.invalid">Registrar</button>
  <br><br>
  <div class="text-center">
    <p class="mt-3">Tienes cuenta? <a class="link" style="cursor:pointer;" (click)="irALogin()">Logueate</a></p>
  </div>
</div>

<div class="col-6 align-self-center bg-dark">


</div>
</form>

<!--ESPECIALISTA-->
<form class="bg-success text-white" (ngSubmit)="chequearCaptcha()" [formGroup]="this.formGroup" *ngIf="this.perfil=='especialista' && !this.spinner">
  <h3 class="text-center">Registro especialista</h3>
  <div class="row">
    <div class="mb-3 col-5">
      <label class="form-label">Nombre:</label>
      <input type="text" class="form-control" formControlName="nombre">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('nombre')?.hasError('required') && this.formGroup.get('nombre')?.touched" >
       El nombre es requerido
         </span>
      </span>
    </div>
    <div class="mb-3 col-5">
      <label for="exampleInputPassword1" class="form-label">Apellido:</label>
      <input type="text" class="form-control" formControlName="apellido">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('apellido')?.hasError('required') && this.formGroup.get('apellido')?.touched" >
       El apellido es requerido
         </span>
      </span>
    </div>
  </div>

  <div class="row">
    <div class="mb-3 col-5">
      <label for="exampleInputPassword1" class="form-label" >Edad:</label>
      <input type="number" class="form-control" formControlName="edad">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('required') && this.formGroup.get('edad')?.touched" >
       La edad es requerida
         </span>
      </span>
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('max') || this.formGroup.get('edad')?.hasError('min')">
       La edad debe ser entre 18 y 99 años.
         </span>
      </span>
    </div>

    <div class="mb-3 col-5">
      <label class="form-label" >DNI:</label>
      <input type="number" class="form-control" formControlName="dni">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('required') && this.formGroup.get('dni')?.touched" >
       DNI es requerido
         </span>
      </span>
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('min')" >
       El DNI es inválido
         </span>
      </span>
    </div>

  </div>

  <div class="row">
    <div class="mb-3 col-2" *ngIf="!this.especialidadAgregar">
      <label class="form-label" >Elegir especialidad:</label>
      <select class="form-control text-dark"  (change)="capturarEspecialidad($event)">

        <option *ngFor="let item of this.especialidades">
          {{item.especialidad}}
        </option>
        </select>

    </div>

    <div class="mb-3 col-3" *ngIf="!this.especialidadAgregar">
      <div class="form-label" >No encuentras tu especialidad? </div>
      <button class="btn btn-dark btn-block" (click)="agregarEspecialidad()">Agregar especialidad</button>
    </div>
    <div class="mb-3 col-5" *ngIf="this.especialidadAgregar">
      <label for="exampleInputPassword1" class="form-label">Agregar especialidad:</label>
      <input type="combobox" class="form-control" formControlName="especialidad">
      <button class="btn btn-dark text-center" (click)="elegirEspecialidad()">Elegir especialidad</button>
    </div>

    <div class="mb-3 col-5">
      <label class="form-label">Correo:</label>
      <input type="email" class="form-control" formControlName="correo">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('required') && this.formGroup.get('correo')?.touched" >
       El correo es requerido
         </span>
      </span>
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('email')">
       El correo es inválido
         </span>
      </span>
    </div>


  </div>

  <div class="row">
    <div class="mb-3 col-5">
      <label for="exampleInputPassword1" class="form-label" >Contraseña:</label>
      <input type="password" class="form-control" id="exampleInputPassword1" formControlName="pass">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('pass')?.hasError('required') && this.formGroup.get('pass')?.touched" >
       La contraseña es requerida
         </span>
      </span>
    </div>

    <div class="mb-3 col-5">
      <label for="exampleInputPassword2" class="form-label" >Repetir contraseña:</label>
      <input type="password" class="form-control" id="exampleInputPassword2" formControlName="pass2">
      <span class="alert-danger" >
        <span class="container-error-messagge" *ngIf="this.formGroup.get('pass2')?.hasError('required') && this.formGroup.get('pass2')?.touched" >
       La contraseña es requerida
         </span>
      </span>
    </div>
  </div>

  <div class="row">
    <div class="mb-3 col-8">
      <label for="file1" class="form-label">Foto de perfil:</label>
      <input type="file" class="form-control" id="file1" (change)="seleccionarImagen($event)">
    </div>
  </div>

  <div class="row">
    <div class="mb-3 col-10 justify-content-center align-items-center d-flex">
      <app-captcha (eventoCaptchaCorrecto)="captchaCorrecto($event)"></app-captcha>
    </div>

  </div>



  <div class="row justify-content-center">
    <button type="submit" class="btn btn-dark btn-lg col-7"  [disabled]="this.formGroup.invalid">Registrar</button>
    <br><br>
    <div class="text-center">
      <p class="mt-3">Tienes cuenta? <a class="link" style="cursor:pointer;" (click)="irALogin()">Logueate</a></p>
    </div>
  </div>

  <div class="col-6 align-self-center bg-dark">


  </div>
  </form>


<!--ADMINISTRADOR-->
  <form class="bg-success text-white" (ngSubmit)="chequearCaptcha()" [formGroup]="this.formGroup" *ngIf="this.perfil=='administrador' && !this.spinner">
    <h3 class="text-center">Registro administrador</h3>

    <div class="row">
      <div class="mb-3 col-5">
        <label class="form-label">Nombre:</label>
        <input type="text" class="form-control" formControlName="nombre">
        <span class="alert-danger" >
          <span class="container-error-messagge" *ngIf="this.formGroup.get('nombre')?.hasError('required') && this.formGroup.get('nombre')?.touched" >
         El nombre es requerido
           </span>
        </span>
      </div>
      <div class="mb-3 col-5">
        <label for="exampleInputPassword1" class="form-label">Apellido:</label>
        <input type="text" class="form-control" formControlName="apellido">
        <span class="alert-danger" >
          <span class="container-error-messagge" *ngIf="this.formGroup.get('apellido')?.hasError('required') && this.formGroup.get('apellido')?.touched" >
         El apellido es requerido
           </span>
        </span>
      </div>
    </div>

    <div class="row">
  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >Edad:</label>
    <input type="number" class="form-control" formControlName="edad">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('required') && this.formGroup.get('edad')?.touched" >
     La edad es requerida
       </span>
    </span>
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('edad')?.hasError('max') || this.formGroup.get('edad')?.hasError('min')">
     La edad debe ser entre 18 y 99 años.
       </span>
    </span>
  </div>

  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >DNI:</label>
    <input type="number" class="form-control" formControlName="dni">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('required') && this.formGroup.get('dni')?.touched" >
     DNI es requerido
       </span>
    </span>
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('dni')?.hasError('min')" >
     El DNI es inválido
       </span>
    </span>
  </div>

</div>


    <div class="row">
      <div class="mb-3 col-5">
        <label class="form-label">Correo:</label>
        <input type="email" class="form-control" formControlName="correo">
        <span class="alert-danger" >
          <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('required') && this.formGroup.get('correo')?.touched" >
         El correo es requerido
           </span>
        </span>
        <span class="alert-danger" >
          <span class="container-error-messagge" *ngIf="this.formGroup.get('correo')?.hasError('email')">
         El correo es inválido
           </span>
        </span>
      </div>


        <div class="mb-3 col-5">
          <label for="file1" class="form-label">Foto de perfil:</label>
          <input type="file" class="form-control" id="file1" (change)="seleccionarImagen($event)" formControlName="pathPerfil">
       </div>
    </div>

    <div class="row">
  <div class="mb-3 col-5">
    <label for="exampleInputPassword1" class="form-label" >Contraseña:</label>
    <input type="password" class="form-control" id="exampleInputPassword1" formControlName="pass">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('pass')?.hasError('required') && this.formGroup.get('pass')?.touched" >
     La contraseña es requerida
       </span>
    </span>
  </div>

  <div class="mb-3 col-5">
    <label for="exampleInputPassword2" class="form-label" >Repetir contraseña:</label>
    <input type="password" class="form-control" id="exampleInputPassword2" formControlName="pass2">
    <span class="alert-danger" >
      <span class="container-error-messagge" *ngIf="this.formGroup.get('pass2')?.hasError('required') && this.formGroup.get('pass2')?.touched" >
     La contraseña es requerida
       </span>
    </span>
  </div>

</div>

    <div class="row">
      <div class="mb-3 col-10 justify-content-center align-items-center d-flex">
        <app-captcha (eventoCaptchaCorrecto)="captchaCorrecto($event)"></app-captcha>
      </div>

    </div>


    <div class="row justify-content-center">
      <button type="submit" class="btn btn-dark btn-lg col-7" [disabled]="this.formGroup.invalid">Registrar</button>
      <br><br>
      <div class="text-center">
        <p class="mt-3">Tienes cuenta? <a class="link" style="cursor:pointer;" (click)="irALogin()">Inicia sesion</a></p>
      </div>
    </div>

    <div class="col-6 align-self-center bg-dark">


    </div>
    </form>


